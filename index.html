<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
/>

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ge'Gard</title>
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="slider.css">
  <!-- Owl Carousel CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" />
  <link rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css" />
  <style>
    /* Increase height of carousel items */
    .owl-carousel .item img {
      height: 250px;
      /* increase this height as needed */
      object-fit: cover;
    }
  </style>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-white text-gray-900">

  <div id="header"></div>
  <div id="slider-section"></div>
  <div id="cards-section"></div>
  <div id="timer-section"></div>
  <div id="card-section"></div>
  <div id="video-section"></div>
  <div id="lastCard-section"></div>
  

  <div id="footer"></div>

  <!-- Swiper JS -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

  <script>
    // Function to load external components
    async function loadComponent(id, file, callback) {
      const response = await fetch(file);
      const content = await response.text();
      document.getElementById(id).innerHTML = content;
      if (callback) callback();
    }

    // Load header
    loadComponent("header", "header.html", () => {
        const menuBtn = document.getElementById("menu-btn");
        const mobileMenu = document.getElementById("mobile-menu");

        if (menuBtn && mobileMenu) {
          menuBtn.addEventListener("click", () => {
            const isHidden = mobileMenu.classList.contains("opacity-0");

            if (isHidden) {
              // OPEN
              mobileMenu.classList.remove("opacity-0", "max-h-0", "py-0");
              mobileMenu.classList.add("opacity-100", "max-h-screen", "py-6");
            } else {
              // CLOSE
              mobileMenu.classList.add("opacity-0", "max-h-0", "py-0");
              mobileMenu.classList.remove("opacity-100", "max-h-screen", "py-6");
            }
          });
        }
      });


    // Load slider
    loadComponent("slider-section", "slider.html", () => {
            // âœ… Slider tabhi initialize hoga jab slider.html load ho chuka hoga
            const swiper = new Swiper(".mySwiper", {
                loop: true,
                autoplay: {
                    delay: 3000,
                    disableOnInteraction: false,
                },
                slidesPerView: 1, // ðŸ‘ˆ Mobile ke liye 1 slide full screen
                spaceBetween: 0,  // ðŸ‘ˆ Slide ke side ka gap hata diya

                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },

                // âœ… Responsive breakpoints
                breakpoints: {
                    768: { // Tablet aur bada screen
                        slidesPerView: 1,
                        spaceBetween: 0,
                    },
                    1024: { // Desktop screen
                        slidesPerView: 1,
                        spaceBetween: 0,
                    }
                }
            });
        });

    //Load Cards
    loadComponent("cards-section", "cards.html", () => {

        // âœ… Toggle active section
        function showSection(sectionId, cardId) {
          const sections = [
            "medicine-section",
            "nutra-img-container",
            "perfume-img-container",
            "cosmetic-img-container"
          ];

          // Hide sabko, sirf clicked show
          sections.forEach(id => {
            const el = document.getElementById(id);
            if (el) {
              if (id === sectionId) {
                el.classList.remove("hidden");
                el.scrollIntoView({ behavior: "smooth" });
              } else {
                el.classList.add("hidden");
              }
            }
          });

          // âœ… Scale effect handle
          document.querySelectorAll(".card").forEach(card => {
            card.classList.remove("scale-110");
          });
          const activeCard = document.getElementById(cardId);
          if (activeCard) activeCard.classList.add("scale-110");

          // âœ… Icon toggle
          document.querySelectorAll(".card button").forEach(btn => {
            btn.innerText = "â†—";
          });
          const activeBtn = activeCard.querySelector("button");
          if (activeBtn) activeBtn.innerText = "â†˜";
        }

        // Default load â†’ Medicine open & scaled
        showSection("medicine-section", "medicine-card");

        // Card clicks
        document.getElementById("medicine-card").addEventListener("click", () => {
          showSection("medicine-section", "medicine-card");
        });

        document.getElementById("nutra-card").addEventListener("click", () => {
          showSection("nutra-img-container", "nutra-card");
        });

        document.getElementById("perfume-card").addEventListener("click", () => {
          showSection("perfume-img-container", "perfume-card");
        });

        document.getElementById("cosmetic-card").addEventListener("click", () => {
          showSection("cosmetic-img-container", "cosmetic-card");
        });

        //Category Filter Logic (inside medicine-section)
        const categoryButtons = document.querySelectorAll("#category-buttons button");
        const products = document.querySelectorAll("#product-grid .border");

        categoryButtons.forEach(btn => {
          btn.addEventListener("click", () => {
            const category = btn.innerText.toLowerCase();

            products.forEach(product => {
              const productCategory = product.getAttribute("data-category");

              if (category === "all products") {
                product.style.display = "block";  // sab dikhao
              } else {
                product.style.display =
                  productCategory === category ? "block" : "none"; // sirf match hua dikhana
              }
            });

            // âœ… Active button style toggle
            categoryButtons.forEach(b => b.classList.remove("bg-green-500"));
            categoryButtons.forEach(b => b.classList.add("bg-blue-900"));
            btn.classList.remove("bg-blue-900");
            btn.classList.add("bg-green-500");
          });
        });

      });

    // Load Timer
      loadComponent("timer-section", "Timer.html", () => {
        function startCountdown(endDate) {
          const daysEl = document.getElementById("days");
          const hoursEl = document.getElementById("hours");
          const minutesEl = document.getElementById("minutes");
          const secondsEl = document.getElementById("seconds");

          function updateCountdown() {
            const now = new Date().getTime();
            const distance = endDate - now;

            if (distance <= 0) {
              clearInterval(timer);
              daysEl.innerText = "00";
              hoursEl.innerText = "00";
              minutesEl.innerText = "00";
              secondsEl.innerText = "00";
              return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            daysEl.innerText = String(days).padStart(2, "0");
            hoursEl.innerText = String(hours).padStart(2, "0");
            minutesEl.innerText = String(minutes).padStart(2, "0");
            secondsEl.innerText = String(seconds).padStart(2, "0");
          }

          updateCountdown();
          const timer = setInterval(updateCountdown, 1000);
        }

        // âœ… Yahin call kar do, DOM loaded ka wait mat karo
        const endDate = new Date();
        endDate.setDate(endDate.getDate() + 37); // 37 din baad tak countdown
        startCountdown(endDate);
      });
    
    //Load card
      loadComponent("card-section", "Card.html");

    //Load Video
      loadComponent("video-section", "Video.html", () => {
          window.openVideo = function (videoId) {
            const iframe = document.getElementById('youtubeFrame');
            iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1`;
            document.getElementById('videoModal').classList.remove('hidden');
          }

          window.closeVideo = function () {
            const iframe = document.getElementById('youtubeFrame');
            iframe.src = '';
            document.getElementById('videoModal').classList.add('hidden');
          }

          $(document).ready(function () {
            $(".owl-carousel").owlCarousel({
              items: 2,
              loop: true,
              margin: 20,
              nav: true,
              dots: true,
              responsive: {
                0: { items: 1 },
                768: { items: 2 },
                1024: { items: 4 }
              }
            });
          });
        });

    //Last Card
      loadComponent("lastCard-section", "lastCard.html");  


    // Load footer
    loadComponent("footer", "footer.html");
  </script>
  <!-- jQuery (required for Owl Carousel) -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  
  <!-- Owl Carousel JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>

</body>
</html>

